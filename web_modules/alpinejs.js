var it=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function rt(P,U,g){return g={path:U,exports:{},require:function(x,f){return st(x,f??g.path)}},P(g,g.exports),g.exports}function st(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var at=rt(function(P,U){(function(g,x){P.exports=x()})(it,function(){function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x(Object(n),!0).forEach(function(i){g(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function xe(){return new Promise(t=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",t):t()})}function K(t){return Array.from(new Set(t))}function H(){return navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}function C(t,e){return t==e}function G(t,e){t.tagName.toLowerCase()!=="template"?console.warn(`Alpine: [${e}] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#${e}`):t.content.childElementCount!==1&&console.warn(`Alpine: <template> tag with [${e}] encountered with multiple element roots. Make sure <template> only has a single child element.`)}function _e(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Y(t){return t.toLowerCase().replace(/-(\w)/g,(e,n)=>n.toUpperCase())}function J(t,e){if(e(t)===!1)return;let n=t.firstElementChild;for(;n;)J(n,e),n=n.nextElementSibling}function X(t,e){var n;return function(){var i=this,s=arguments,r=function(){n=null,t.apply(i,s)};clearTimeout(n),n=setTimeout(r,e)}}function T(t,e,n={}){return typeof t=="function"?t.call(e):new Function(["$data",...Object.keys(n)],`var __alpine_result; with($data) { __alpine_result = ${t} }; return __alpine_result`)(e,...Object.values(n))}function Oe(t,e,n={}){if(typeof t=="function")return Promise.resolve(t.call(e,n.$event));let i=Function;if(i=Object.getPrototypeOf(async function(){}).constructor,Object.keys(e).includes(t)){let s=new Function(["dataContext",...Object.keys(n)],`with(dataContext) { return ${t} }`)(e,...Object.values(n));return typeof s=="function"?Promise.resolve(s.call(e,n.$event)):Promise.resolve()}return Promise.resolve(new i(["dataContext",...Object.keys(n)],`with(dataContext) { ${t} }`)(e,...Object.values(n)))}const Z=/^x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref|spread)\b/;function ke(t){const e=V(t.name);return Z.test(e)}function m(t,e,n){let i=Array.from(t.attributes).filter(ke).map(Q),s=i.filter(r=>r.type==="spread")[0];if(s){let r=T(s.expression,e.$data);i=i.concat(Object.entries(r).map(([o,a])=>Q({name:o,value:a})))}return n?i.filter(r=>r.type===n):Ae(i)}function Ae(t){let e=["bind","model","show","catch-all"];return t.sort((n,i)=>{let s=e.indexOf(n.type)===-1?"catch-all":n.type,r=e.indexOf(i.type)===-1?"catch-all":i.type;return e.indexOf(s)-e.indexOf(r)})}function Q({name:t,value:e}){const n=V(t),i=n.match(Z),s=n.match(/:([a-zA-Z0-9\-:]+)/),r=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[];return{type:i?i[1]:null,value:s?s[1]:null,modifiers:r.map(o=>o.replace(".","")),expression:e}}function Ee(t){const e=["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"];return e.includes(t)}function V(t){return t.startsWith("@")?t.replace("@","x-on:"):t.startsWith(":")?t.replace(":","x-bind:"):t}function p(t,e=Boolean){return t.split(" ").filter(e)}const j="in",$="out",ee="cancelled";function N(t,e,n,i,s=!1){if(s)return e();if(t.__x_transition&&t.__x_transition.type===j)return;const r=m(t,i,"transition"),o=m(t,i,"show")[0];if(o&&o.modifiers.includes("transition")){let a=o.modifiers;if(a.includes("out")&&!a.includes("in"))return e();const l=a.includes("in")&&a.includes("out");a=l?a.filter((u,c)=>c<a.indexOf("out")):a,Se(t,a,e,n)}else r.some(a=>["enter","enter-start","enter-end"].includes(a.value))?Ie(t,i,r,e,n):e()}function R(t,e,n,i,s=!1){if(s)return e();if(t.__x_transition&&t.__x_transition.type===$)return;const r=m(t,i,"transition"),o=m(t,i,"show")[0];if(o&&o.modifiers.includes("transition")){let a=o.modifiers;if(a.includes("in")&&!a.includes("out"))return e();const l=a.includes("in")&&a.includes("out");a=l?a.filter((u,c)=>c>a.indexOf("out")):a,Te(t,a,l,e,n)}else r.some(a=>["leave","leave-start","leave-end"].includes(a.value))?De(t,i,r,e,n):e()}function Se(t,e,n,i){const s={duration:w(e,"duration",150),origin:w(e,"origin","center"),first:{opacity:0,scale:w(e,"scale",95)},second:{opacity:1,scale:100}};te(t,e,n,()=>{},i,s,j)}function Te(t,e,n,i,s){const r=n?w(e,"duration",150):w(e,"duration",150)/2,o={duration:r,origin:w(e,"origin","center"),first:{opacity:1,scale:100},second:{opacity:0,scale:w(e,"scale",95)}};te(t,e,()=>{},i,s,o,$)}function w(t,e,n){if(t.indexOf(e)===-1)return n;const i=t[t.indexOf(e)+1];if(!i)return n;if(e==="scale"&&!A(i))return n;if(e==="duration"){let s=i.match(/([0-9]+)ms/);if(s)return s[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[i,t[t.indexOf(e)+2]].join(" "):i}function te(t,e,n,i,s,r,o){t.__x_transition&&(t.__x_transition.cancel&&t.__x_transition.cancel());const a=t.style.opacity,l=t.style.transform,u=t.style.transformOrigin,c=!e.includes("opacity")&&!e.includes("scale"),d=c||e.includes("opacity"),h=c||e.includes("scale"),nt={start(){d&&(t.style.opacity=r.first.opacity),h&&(t.style.transform=`scale(${r.first.scale/100})`)},during(){h&&(t.style.transformOrigin=r.origin),t.style.transitionProperty=[d?"opacity":"",h?"transform":""].join(" ").trim(),t.style.transitionDuration=`${r.duration/1e3}s`,t.style.transitionTimingFunction="cubic-bezier(0.4, 0.0, 0.2, 1)"},show(){n()},end(){d&&(t.style.opacity=r.second.opacity),h&&(t.style.transform=`scale(${r.second.scale/100})`)},hide(){i()},cleanup(){d&&(t.style.opacity=a),h&&(t.style.transform=l),h&&(t.style.transformOrigin=u),t.style.transitionProperty=null,t.style.transitionDuration=null,t.style.transitionTimingFunction=null}};ie(t,nt,o,s)}const _=(t,e,n)=>typeof t=="function"?n.evaluateReturnExpression(e,t):t;function Ie(t,e,n,i,s){const r=p(_((n.find(l=>l.value==="enter")||{expression:""}).expression,t,e)),o=p(_((n.find(l=>l.value==="enter-start")||{expression:""}).expression,t,e)),a=p(_((n.find(l=>l.value==="enter-end")||{expression:""}).expression,t,e));ne(t,r,o,a,i,()=>{},j,s)}function De(t,e,n,i,s){const r=p(_((n.find(l=>l.value==="leave")||{expression:""}).expression,t,e)),o=p(_((n.find(l=>l.value==="leave-start")||{expression:""}).expression,t,e)),a=p(_((n.find(l=>l.value==="leave-end")||{expression:""}).expression,t,e));ne(t,r,o,a,()=>{},i,$,s)}function ne(t,e,n,i,s,r,o,a){t.__x_transition&&(t.__x_transition.cancel&&t.__x_transition.cancel());const l=t.__x_original_classes||[],u={start(){t.classList.add(...n)},during(){t.classList.add(...e)},show(){s()},end(){t.classList.remove(...n.filter(c=>!l.includes(c))),t.classList.add(...i)},hide(){r()},cleanup(){t.classList.remove(...e.filter(c=>!l.includes(c))),t.classList.remove(...i.filter(c=>!l.includes(c)))}};ie(t,u,o,a)}function ie(t,e,n,i){const s=re(()=>{e.hide(),t.isConnected&&e.cleanup(),delete t.__x_transition});t.__x_transition={type:n,cancel:re(()=>{i(ee),s()}),finish:s,nextFrame:null},e.start(),e.during(),t.__x_transition.nextFrame=requestAnimationFrame(()=>{let r=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3;r===0&&(r=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),e.show(),t.__x_transition.nextFrame=requestAnimationFrame(()=>{e.end(),setTimeout(t.__x_transition.finish,r)})})}function A(t){return!Array.isArray(t)&&!isNaN(t)}function re(t){let e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function Pe(t,e,n,i,s){G(e,"x-for");let r=typeof n=="function"?se(t.evaluateReturnExpression(e,n)):se(n),o=$e(t,e,r,s),a=e;o.forEach((l,u)=>{let c=Ce(r,l,u,o,s()),d=je(t,e,u,c),h=Re(a.nextElementSibling,d);h?(delete h.__x_for_key,h.__x_for=c,t.updateElements(h,()=>h.__x_for)):(h=Ne(e,a),N(h,()=>{},()=>{},t,i),h.__x_for=c,t.initializeElements(h,()=>h.__x_for)),a=h,a.__x_for_key=d}),Le(a,t)}function se(t){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\(|\)$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,s=t.match(i);if(!s)return;let r={};r.items=s[2].trim();let o=s[1].trim().replace(n,""),a=o.match(e);return a?(r.item=o.replace(e,"").trim(),r.index=a[1].trim(),a[2]&&(r.collection=a[2].trim())):r.item=o,r}function Ce(t,e,n,i,s){let r=s?f({},s):{};return r[t.item]=e,t.index&&(r[t.index]=n),t.collection&&(r[t.collection]=i),r}function je(t,e,n,i){let s=m(e,t,"bind").filter(r=>r.value==="key")[0];return s?t.evaluateReturnExpression(e,s.expression,()=>i):n}function $e(t,e,n,i){let s=m(e,t,"if")[0];if(s&&!t.evaluateReturnExpression(e,s.expression))return[];let r=t.evaluateReturnExpression(e,n.items,i);return A(r)&&r>0&&(r=Array.from(Array(r).keys(),o=>o+1)),r}function Ne(t,e){let n=document.importNode(t.content,!0);return e.parentElement.insertBefore(n,e.nextElementSibling),e.nextElementSibling}function Re(t,e){if(!t)return;if(t.__x_for_key===e)return t;let n=t;for(;n;){if(n.__x_for_key===e)return n.parentElement.insertBefore(n,t);n=n.nextElementSibling&&n.nextElementSibling.__x_for_key!==void 0?n.nextElementSibling:!1}}function Le(t,e){for(var n=t.nextElementSibling&&t.nextElementSibling.__x_for_key!==void 0?t.nextElementSibling:!1;n;){let i=n,s=n.nextElementSibling;R(n,()=>{i.remove()},()=>{},e),n=s&&s.__x_for_key!==void 0?s:!1}}function ae(t,e,n,i,s,r,o){var a=t.evaluateReturnExpression(e,i,s);if(n==="value"){if(y.ignoreFocusedForValueBinding&&document.activeElement.isSameNode(e))return;if(a===void 0&&i.match(/\./)&&(a=""),e.type==="radio")e.attributes.value===void 0&&r==="bind"?e.value=a:r!=="bind"&&(e.checked=C(e.value,a));else if(e.type==="checkbox")typeof a!="boolean"&&![null,void 0].includes(a)&&r==="bind"?e.value=String(a):r!=="bind"&&(Array.isArray(a)?e.checked=a.some(l=>C(l,e.value)):e.checked=!!a);else if(e.tagName==="SELECT")Me(e,a);else{if(e.value===a)return;e.value=a}}else if(n==="class")if(Array.isArray(a)){const l=e.__x_original_classes||[];e.setAttribute("class",K(l.concat(a)).join(" "))}else if(typeof a=="object"){const l=Object.keys(a).sort((u,c)=>a[u]-a[c]);l.forEach(u=>{a[u]?p(u).forEach(c=>e.classList.add(c)):p(u).forEach(c=>e.classList.remove(c))})}else{const l=e.__x_original_classes||[],u=p(a);e.setAttribute("class",K(l.concat(u)).join(" "))}else n=o.includes("camel")?Y(n):n,[null,void 0,!1].includes(a)?e.removeAttribute(n):Ee(n)?oe(e,n,n):oe(e,n,a)}function oe(t,e,n){t.getAttribute(e)!=n&&t.setAttribute(e,n)}function Me(t,e){const n=[].concat(e).map(i=>i+"");Array.from(t.options).forEach(i=>{i.selected=n.includes(i.value||i.text)})}function ze(t,e,n){e===void 0&&n.match(/\./)&&(e=""),t.textContent=e}function Fe(t,e,n,i){e.innerHTML=t.evaluateReturnExpression(e,n,i)}function We(t,e,n,i,s=!1){const r=()=>{e.style.display="none",e.__x_is_shown=!1},o=()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display"),e.__x_is_shown=!0};if(s===!0){n?o():r();return}const a=(l,u)=>{n?((e.style.display==="none"||e.__x_transition)&&N(e,()=>{o()},u,t),l(()=>{})):e.style.display!=="none"?R(e,()=>{l(()=>{r()})},u,t):l(()=>{})};if(i.includes("immediate")){a(l=>l(),()=>{});return}t.showDirectiveLastElement&&!t.showDirectiveLastElement.contains(e)&&t.executeAndClearRemainingShowDirectiveStack(),t.showDirectiveStack.push(a),t.showDirectiveLastElement=e}function Be(t,e,n,i,s){G(e,"x-if");const r=e.nextElementSibling&&e.nextElementSibling.__x_inserted_me===!0;if(n&&(!r||e.__x_transition)){const o=document.importNode(e.content,!0);e.parentElement.insertBefore(o,e.nextElementSibling),N(e.nextElementSibling,()=>{},()=>{},t,i),t.initializeElements(e.nextElementSibling,s),e.nextElementSibling.__x_inserted_me=!0}else!n&&r&&R(e.nextElementSibling,()=>{e.nextElementSibling.remove()},()=>{},t,i)}function le(t,e,n,i,s,r={}){const o={passive:i.includes("passive")};if(i.includes("camel")&&(n=Y(n)),i.includes("away")){let a=l=>{if(e.contains(l.target))return;if(e.offsetWidth<1&&e.offsetHeight<1)return;ce(t,s,l,r),i.includes("once")&&document.removeEventListener(n,a,o)};document.addEventListener(n,a,o)}else{let a=i.includes("window")?window:i.includes("document")?document:e,l=u=>{if((a===window||a===document)&&!document.body.contains(e)){a.removeEventListener(n,l,o);return}if(qe(n)&&Ue(u,i))return;if(i.includes("prevent")&&u.preventDefault(),i.includes("stop")&&u.stopPropagation(),!i.includes("self")||u.target===e){const c=ce(t,s,u,r);c.then(d=>{d===!1?u.preventDefault():i.includes("once")&&a.removeEventListener(n,l,o)})}};if(i.includes("debounce")){let u=i[i.indexOf("debounce")+1]||"invalid-wait",c=A(u.split("ms")[0])?Number(u.split("ms")[0]):250;l=X(l,c)}a.addEventListener(n,l,o)}}function ce(t,e,n,i){return t.evaluateCommandExpression(n.target,e,()=>f(f({},i()),{},{$event:n}))}function qe(t){return["keydown","keyup"].includes(t)}function Ue(t,e){let n=e.filter(r=>!["window","document","prevent","stop"].includes(r));if(n.includes("debounce")){let r=n.indexOf("debounce");n.splice(r,A((n[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0)return!1;if(n.length===1&&n[0]===ue(t.key))return!1;const i=["ctrl","shift","alt","meta","cmd","super"],s=i.filter(r=>n.includes(r));if(n=n.filter(r=>!s.includes(r)),s.length>0){const r=s.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),t[`${o}Key`]));if(r.length===s.length&&n[0]===ue(t.key))return!1}return!0}function ue(t){switch(t){case"/":return"slash";case" ":case"Spacebar":return"space";default:return t&&_e(t)}}function Ke(t,e,n,i,s){var r=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||n.includes("lazy")?"change":"input";const o=`${i} = rightSideOfExpression($event, ${i})`;le(t,e,r,n,o,()=>f(f({},s()),{},{rightSideOfExpression:He(e,n,i)}))}function He(t,e,n){return t.type==="radio"&&(t.hasAttribute("name")||t.setAttribute("name",n)),(i,s)=>{if(i instanceof CustomEvent&&i.detail)return i.detail;if(t.type==="checkbox")if(Array.isArray(s)){const r=e.includes("number")?L(i.target.value):i.target.value;return i.target.checked?s.concat([r]):s.filter(o=>!C(o,r))}else return i.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return e.includes("number")?Array.from(i.target.selectedOptions).map(r=>{const o=r.value||r.text;return L(o)}):Array.from(i.target.selectedOptions).map(r=>r.value||r.text);{const r=i.target.value;return e.includes("number")?L(r):e.includes("trim")?r.trim():r}}}}function L(t){const e=t?parseFloat(t):null;return A(e)?e:t}const{isArray:M}=Array,{getPrototypeOf:z,create:ot,defineProperty:b,defineProperties:lt,isExtensible:he,getOwnPropertyDescriptor:O,getOwnPropertyNames:F,getOwnPropertySymbols:W,preventExtensions:de,hasOwnProperty:E}=Object,{push:ct,concat:B,map:ut}=Array.prototype;function v(t){return t===void 0}function I(t){return typeof t=="function"}function Ge(t){return typeof t=="object"}const fe=new WeakMap;function pe(t,e){fe.set(t,e)}const k=t=>fe.get(t)||t;function q(t,e){return t.valueIsObservable(e)?t.getProxy(e):e}function Ye(t){return E.call(t,"value")&&(t.value=k(t.value)),t}function me(t,e,n){const i=B.call(F(n),W(n));i.forEach(s=>{let r=O(n,s);r.configurable||(r=D(t,r,q)),b(e,s,r)}),de(e)}class Je{constructor(t,e){this.originalTarget=e,this.membrane=t}get(t,e){const{originalTarget:n,membrane:i}=this,s=n[e],{valueObserved:r}=i;return r(n,e),i.getProxy(s)}set(t,e,n){const{originalTarget:i,membrane:{valueMutated:s}}=this,r=i[e];return r!==n?(i[e]=n,s(i,e)):e==="length"&&M(i)&&s(i,e),!0}deleteProperty(t,e){const{originalTarget:n,membrane:{valueMutated:i}}=this;return delete n[e],i(n,e),!0}apply(t,e,n){}construct(t,e,n){}has(t,e){const{originalTarget:n,membrane:{valueObserved:i}}=this;return i(n,e),e in n}ownKeys(t){const{originalTarget:e}=this;return B.call(F(e),W(e))}isExtensible(t){const e=he(t);if(!e)return e;const{originalTarget:n,membrane:i}=this,s=he(n);return s||me(i,t,n),s}setPrototypeOf(t,e){}getPrototypeOf(t){const{originalTarget:e}=this;return z(e)}getOwnPropertyDescriptor(t,e){const{originalTarget:n,membrane:i}=this,{valueObserved:s}=this.membrane;s(n,e);let r=O(n,e);if(v(r))return r;const o=O(t,e);return v(o)?(r=D(i,r,q),r.configurable||b(t,e,r),r):o}preventExtensions(t){const{originalTarget:e,membrane:n}=this;return me(n,t,e),de(e),!0}defineProperty(t,e,n){const{originalTarget:i,membrane:s}=this,{valueMutated:r}=s,{configurable:o}=n;if(E.call(n,"writable")&&!E.call(n,"value")){const a=O(i,e);n.value=a.value}return b(i,e,Ye(n)),o===!1&&b(t,e,D(s,n,q)),r(i,e),!0}}function Xe(t,e){return t.valueIsObservable(e)?t.getReadOnlyProxy(e):e}class Ze{constructor(t,e){this.originalTarget=e,this.membrane=t}get(t,e){const{membrane:n,originalTarget:i}=this,s=i[e],{valueObserved:r}=n;return r(i,e),n.getReadOnlyProxy(s)}set(t,e,n){return!1}deleteProperty(t,e){return!1}apply(t,e,n){}construct(t,e,n){}has(t,e){const{originalTarget:n,membrane:{valueObserved:i}}=this;return i(n,e),e in n}ownKeys(t){const{originalTarget:e}=this;return B.call(F(e),W(e))}setPrototypeOf(t,e){}getOwnPropertyDescriptor(t,e){const{originalTarget:n,membrane:i}=this,{valueObserved:s}=i;s(n,e);let r=O(n,e);if(v(r))return r;const o=O(t,e);return v(o)?(r=D(i,r,Xe),E.call(r,"set")&&(r.set=void 0),r.configurable||b(t,e,r),r):o}preventExtensions(t){return!1}defineProperty(t,e,n){return!1}}function ge(t){let e;return M(t)?e=[]:Ge(t)&&(e={}),e}const Qe=Object.prototype;function we(t){if(t===null)return!1;if(typeof t!="object")return!1;if(M(t))return!0;const e=z(t);return e===Qe||e===null||z(e)===null}const be=(t,e)=>{},ve=(t,e)=>{},ye=t=>t;function D(t,e,n){const{set:i,get:s}=e;return E.call(e,"value")?e.value=n(t,e.value):(v(s)||(e.get=function(){return n(t,s.call(k(this)))}),v(i)||(e.set=function(r){i.call(k(this),t.unwrapProxy(r))})),e}class Ve{constructor(t){if(this.valueDistortion=ye,this.valueMutated=ve,this.valueObserved=be,this.valueIsObservable=we,this.objectGraph=new WeakMap,!v(t)){const{valueDistortion:e,valueMutated:n,valueObserved:i,valueIsObservable:s}=t;this.valueDistortion=I(e)?e:ye,this.valueMutated=I(n)?n:ve,this.valueObserved=I(i)?i:be,this.valueIsObservable=I(s)?s:we}}getProxy(t){const e=k(t),n=this.valueDistortion(e);if(this.valueIsObservable(n)){const i=this.getReactiveState(e,n);return i.readOnly===t?t:i.reactive}return n}getReadOnlyProxy(t){t=k(t);const e=this.valueDistortion(t);return this.valueIsObservable(e)?this.getReactiveState(t,e).readOnly:e}unwrapProxy(t){return k(t)}getReactiveState(t,e){const{objectGraph:n}=this;let i=n.get(e);if(i)return i;const s=this;return i={get reactive(){const r=new Je(s,e),o=new Proxy(ge(e),r);return pe(o,t),b(this,"reactive",{value:o}),o},get readOnly(){const r=new Ze(s,e),o=new Proxy(ge(e),r);return pe(o,t),b(this,"readOnly",{value:o}),o}},n.set(e,i),i}}function et(t,e){let n=new Ve({valueMutated(i,s){e(i,s)}});return{data:n.getProxy(t),membrane:n}}function tt(t,e){let n=t.unwrapProxy(e),i={};return Object.keys(n).forEach(s=>{if(["$el","$refs","$nextTick","$watch"].includes(s))return;i[s]=n[s]}),i}class S{constructor(t,e=null){this.$el=t;const n=this.$el.getAttribute("x-data"),i=n===""?"{}":n,s=this.$el.getAttribute("x-init");let r={$el:this.$el},o=e?e.$el:this.$el;Object.entries(y.magicProperties).forEach(([c,d])=>{Object.defineProperty(r,`$${c}`,{get:function(){return d(o)}})}),this.unobservedData=e?e.getUnobservedData():T(i,r);let{membrane:a,data:l}=this.wrapDataInObservable(this.unobservedData);this.$data=l,this.membrane=a,this.unobservedData.$el=this.$el,this.unobservedData.$refs=this.getRefsProxy(),this.nextTickStack=[],this.unobservedData.$nextTick=c=>{this.nextTickStack.push(c)},this.watchers={},this.unobservedData.$watch=(c,d)=>{this.watchers[c]||(this.watchers[c]=[]),this.watchers[c].push(d)},Object.entries(y.magicProperties).forEach(([c,d])=>{Object.defineProperty(this.unobservedData,`$${c}`,{get:function(){return d(o)}})}),this.showDirectiveStack=[],this.showDirectiveLastElement,e||y.onBeforeComponentInitializeds.forEach(c=>c(this));var u;s&&!e&&(this.pauseReactivity=!0,u=this.evaluateReturnExpression(this.$el,s),this.pauseReactivity=!1),this.initializeElements(this.$el),this.listenForNewElementsToInitialize(),typeof u=="function"&&u.call(this.$data),e||setTimeout(()=>{y.onComponentInitializeds.forEach(c=>c(this))},0)}getUnobservedData(){return tt(this.membrane,this.$data)}wrapDataInObservable(t){var e=this;let n=X(function(){e.updateElements(e.$el)},0);return et(t,(i,s)=>{if(e.watchers[s]?e.watchers[s].forEach(r=>r(i[s])):Array.isArray(i)?Object.keys(e.watchers).forEach(r=>{let o=r.split(".");if(s==="length")return;o.reduce((a,l)=>(Object.is(i,a[l])&&e.watchers[r].forEach(u=>u(i)),a[l]),e.unobservedData)}):Object.keys(e.watchers).filter(r=>r.includes(".")).forEach(r=>{let o=r.split(".");if(s!==o[o.length-1])return;o.reduce((a,l)=>(Object.is(i,a)&&e.watchers[r].forEach(u=>u(i[s])),a[l]),e.unobservedData)}),e.pauseReactivity)return;n()})}walkAndSkipNestedComponents(t,e,n=()=>{}){J(t,i=>i.hasAttribute("x-data")&&!i.isSameNode(this.$el)?(i.__x||n(i),!1):e(i))}initializeElements(t,e=()=>{}){this.walkAndSkipNestedComponents(t,n=>{if(n.__x_for_key!==void 0)return!1;if(n.__x_inserted_me!==void 0)return!1;this.initializeElement(n,e)},n=>{n.__x=new S(n)}),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(t)}initializeElement(t,e){t.hasAttribute("class")&&m(t,this).length>0&&(t.__x_original_classes=p(t.getAttribute("class"))),this.registerListeners(t,e),this.resolveBoundAttributes(t,!0,e)}updateElements(t,e=()=>{}){this.walkAndSkipNestedComponents(t,n=>{if(n.__x_for_key!==void 0&&!n.isSameNode(this.$el))return!1;this.updateElement(n,e)},n=>{n.__x=new S(n)}),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(t)}executeAndClearNextTickStack(t){t===this.$el&&this.nextTickStack.length>0&&requestAnimationFrame(()=>{for(;this.nextTickStack.length>0;)this.nextTickStack.shift()()})}executeAndClearRemainingShowDirectiveStack(){this.showDirectiveStack.reverse().map(t=>new Promise((e,n)=>{t(e,n)})).reduce((t,e)=>t.then(()=>e.then(n=>{n()})),Promise.resolve(()=>{})).catch(t=>{if(t!==ee)throw t}),this.showDirectiveStack=[],this.showDirectiveLastElement=void 0}updateElement(t,e){this.resolveBoundAttributes(t,!1,e)}registerListeners(t,e){m(t,this).forEach(({type:n,value:i,modifiers:s,expression:r})=>{switch(n){case"on":le(this,t,i,s,r,e);break;case"model":Ke(this,t,s,r,e);break}})}resolveBoundAttributes(t,e=!1,n){let i=m(t,this);i.forEach(({type:s,value:r,modifiers:o,expression:a})=>{switch(s){case"model":ae(this,t,"value",a,n,s,o);break;case"bind":if(t.tagName.toLowerCase()==="template"&&r==="key")return;ae(this,t,r,a,n,s,o);break;case"text":var l=this.evaluateReturnExpression(t,a,n);ze(t,l,a);break;case"html":Fe(this,t,a,n);break;case"show":var l=this.evaluateReturnExpression(t,a,n);We(this,t,l,o,e);break;case"if":if(i.some(u=>u.type==="for"))return;var l=this.evaluateReturnExpression(t,a,n);Be(this,t,l,e,n);break;case"for":Pe(this,t,a,e,n);break;case"cloak":t.removeAttribute("x-cloak");break}})}evaluateReturnExpression(t,e,n=()=>{}){return T(e,this.$data,f(f({},n()),{},{$dispatch:this.getDispatchFunction(t)}))}evaluateCommandExpression(t,e,n=()=>{}){return Oe(e,this.$data,f(f({},n()),{},{$dispatch:this.getDispatchFunction(t)}))}getDispatchFunction(t){return(e,n={})=>{t.dispatchEvent(new CustomEvent(e,{detail:n,bubbles:!0}))}}listenForNewElementsToInitialize(){const t=this.$el,e={childList:!0,attributes:!0,subtree:!0},n=new MutationObserver(i=>{for(let s=0;s<i.length;s++){const r=i[s].target.closest("[x-data]");if(!(r&&r.isSameNode(this.$el)))continue;if(i[s].type==="attributes"&&i[s].attributeName==="x-data"){const o=T(i[s].target.getAttribute("x-data")||"{}",{$el:this.$el});Object.keys(o).forEach(a=>{this.$data[a]!==o[a]&&(this.$data[a]=o[a])})}i[s].addedNodes.length>0&&i[s].addedNodes.forEach(o=>{if(o.nodeType!==1||o.__x_inserted_me)return;if(o.matches("[x-data]")&&!o.__x){o.__x=new S(o);return}this.initializeElements(o)})}});n.observe(t,e)}getRefsProxy(){var t=this,e={};return new Proxy(e,{get(n,i){if(i==="$isAlpineProxy")return!0;var s;return t.walkAndSkipNestedComponents(t.$el,r=>{r.hasAttribute("x-ref")&&r.getAttribute("x-ref")===i&&(s=r)}),s}})}}const y={version:"2.7.3",pauseMutationObserver:!1,magicProperties:{},onComponentInitializeds:[],onBeforeComponentInitializeds:[],ignoreFocusedForValueBinding:!1,start:async function(){H()||await xe(),this.discoverComponents(e=>{this.initializeComponent(e)}),document.addEventListener("turbolinks:load",()=>{this.discoverUninitializedComponents(e=>{this.initializeComponent(e)})}),this.listenForNewUninitializedComponentsAtRunTime()},discoverComponents:function(e){const n=document.querySelectorAll("[x-data]");n.forEach(i=>{e(i)})},discoverUninitializedComponents:function(e,n=null){const i=(n||document).querySelectorAll("[x-data]");Array.from(i).filter(s=>s.__x===void 0).forEach(s=>{e(s)})},listenForNewUninitializedComponentsAtRunTime:function(){const e=document.querySelector("body"),n={childList:!0,attributes:!0,subtree:!0},i=new MutationObserver(s=>{if(this.pauseMutationObserver)return;for(let r=0;r<s.length;r++)s[r].addedNodes.length>0&&s[r].addedNodes.forEach(o=>{if(o.nodeType!==1)return;if(o.parentElement&&o.parentElement.closest("[x-data]"))return;this.discoverUninitializedComponents(a=>{this.initializeComponent(a)},o.parentElement)})});i.observe(e,n)},initializeComponent:function(e){if(!e.__x)try{e.__x=new S(e)}catch(n){setTimeout(()=>{throw n},0)}},clone:function(e,n){n.__x||(n.__x=new S(n,e))},addMagicProperty:function(e,n){this.magicProperties[e]=n},onComponentInitialized:function(e){this.onComponentInitializeds.push(e)},onBeforeComponentInitialized:function(e){this.onBeforeComponentInitializeds.push(e)}};return H()||(window.Alpine=y,window.deferLoadingAlpine?window.deferLoadingAlpine(function(){window.Alpine.start()}):window.Alpine.start()),y})});export default at;
